<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Apuntes - Polimorfismo y clases abstractas | UTN FRA - Programación II</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/polimorfismo"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Apuntes - Polimorfismo y clases abstractas | UTN FRA - Programación II"><meta data-react-helmet="true" name="description" content="Polimorfismo"><meta data-react-helmet="true" property="og:description" content="Polimorfismo"><link data-react-helmet="true" rel="shortcut icon" href="/programacion_2_laboratorio_2_apuntes/base/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/polimorfismo"><link data-react-helmet="true" rel="alternate" href="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/polimorfismo" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/polimorfismo" hreflang="x-default"><link rel="stylesheet" href="/programacion_2_laboratorio_2_apuntes/assets/css/styles.48724680.css">
<link rel="preload" href="/programacion_2_laboratorio_2_apuntes/assets/js/runtime~main.be10064d.js" as="script">
<link rel="preload" href="/programacion_2_laboratorio_2_apuntes/assets/js/main.cebd5737.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/programacion_2_laboratorio_2_apuntes/"><img src="/programacion_2_laboratorio_2_apuntes/base/logo.svg" alt="UTN Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/programacion_2_laboratorio_2_apuntes/base/logo.svg" alt="UTN Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Programación II</b></a><a class="navbar__item navbar__link" href="/programacion_2_laboratorio_2_apuntes/docs/introduccion/descripcion-materia">Introducción a la materia</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/programacion_2_laboratorio_2_apuntes/docs/clases/programa">Clases</a><a class="navbar__item navbar__link" href="/programacion_2_laboratorio_2_apuntes/docs/evaluaciones">Evaluaciones</a></div><div class="navbar__items navbar__items--right"><a href="http://www.sistemas-utnfra.com.ar/#/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Tecnicaturas UTN-Fra<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/programacion_2_laboratorio_2_apuntes/docs/clases/programa">Programa</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/programacion_2_laboratorio_2_apuntes/docs/clases/referencias">Antes de empezar</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introducción a .NET y C#</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Clases y métodos estáticos</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Programación orientada a objetos</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Sobrecarga</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Windows Forms</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Colecciones</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Encapsulamiento</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Herencia</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Polimorfismo</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/programacion_2_laboratorio_2_apuntes/docs/polimorfismo">Índice</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Apuntes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/polimorfismo">Polimorfismo</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/abstract">Clases abstractas</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/cuestionario">Cuestionario</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Ejercicios</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Excepciones</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pruebas unitarias</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tipos genéricos</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Interfaces</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Archivos y serialización</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Métodos de extensión</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Apuntes - Polimorfismo y clases abstractas</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="polimorfismo"></a>Polimorfismo<a class="hash-link" href="#polimorfismo" title="Direct link to heading">#</a></h2><p>El <strong>polimorfismo</strong> es la habilidad de los objetos de responder al mismo mensaje de distintas formas y también el último de los pilares de la programación orientada a objetos que analizaremos. Con mensaje nos referimos a cuando un objeto recibe una invocación de uno de los servicios que ofrece en forma de métodos. Es decir, los objetos del mismo tipo pueden resolver la invocación de una misma operación (misma firma del método, misma semántica) de diferentes maneras.</p><p>Existen distintas formas de implementar el polimorfismo, nosotros veremos polimorfismo basado en herencia.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="polimorfismo-basado-en-herencia"></a>Polimorfismo basado en herencia<a class="hash-link" href="#polimorfismo-basado-en-herencia" title="Direct link to heading">#</a></h2><p>Una <strong>operación</strong> especifica un servicio que se puede requerir de cualquier objeto para influir en su comportamiento o alterar su estado, el qué hace. Un <strong>método</strong> es una implementación de una operación, un algoritmo ejecutable que resuelve el requerimiento, el cómo lo hace. En una jerarquía de herencia puede haber varios métodos para la misma operación, y el polimorfismo selecciona qué método de la jerarquía se ejecuta en tiempo de ejecución. </p><p>Recordemos que todas las clases derivadas heredan la interfaz de su clase base (sus operaciones y propiedades públicas). Sin embargo, como cada clase derivada es una entidad semi-independiente, cada una podría requerir resolver la respuesta al mismo mensaje de distinta forma. </p><p>Por ejemplo, si tenemos la clase <code>Animal</code> y una operación llamada <code>EmitirSonido</code> y sus derivadas <code>Perro</code>, <code>Gato</code> y <code>Vaca</code>. La operación es la misma, hacer un sonido, pero cada sub-tipo de animal emite un sonido distinto. Los perros ladran, los gatos maullan y las vacas mugen, son distintas formas de resolver la misma operación. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="herencia-no-polimórfica"></a>Herencia no-polimórfica<a class="hash-link" href="#herencia-no-polimórfica" title="Direct link to heading">#</a></h3><p>Implementemos el ejemplo anterior.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Animal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Roar!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Perro : Animal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Woof!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Gato : Animal </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Miau!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>El primer problema que enfrentaremos es una advertencia del compilador y del IDE: </p><p><img alt="Advertencia cuando ocultamos métodos de la clase base sin usar new" src="/programacion_2_laboratorio_2_apuntes/assets/images/advertencia_polimorfismo-641d2e8538a114dd5f21e189e1378c5a.PNG"></p><p>Podremos compilar igual, pero nos advierten que los métodos declarados en los tipos derivados están ocultado el método en la clase base. Y nos aconsejan que, si esa fue nuestra intensión, deberíamos usar el operador <code>new</code> en la declaración. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Perro : Animal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public new string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Woof!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Gato : Animal </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public new string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Miau!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Agregando el operador <code>new</code> hacemos explícita nuestra intención de ocultar la implementación de la clase base. Veamos qué pasa si ejecutamos el método desde los distintos tipos de instancia de la jerarquía:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">static void Main(string[] args)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal animal = new Animal();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Perro perro = new Perro();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Gato gato = new Gato();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Animal: {animal.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Perro: {perro.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Gato: {gato.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>La salida del código anterior es:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Animal: ¡Roar!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Perro: ¡Woof!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Gato: ¡Miau!</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Tal cómo se esperaba, ¿no?. Sin embargo, observemos qué sucede si guardamos los objetos de tipo <code>Perro</code> y <code>Gato</code> en una variable de tipo <code>Animal</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">static void Main(string[] args)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal animal = new Animal();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal perro = new Perro();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal gato = new Gato();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Animal: {animal.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Perro: {perro.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Gato: {gato.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>La salida del código anterior es:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Animal: ¡Roar!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Perro: ¡Roar!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Gato: ¡Roar!</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Se ejecuta la implementación del tipo de la referencia, es decir, del tipo de la variable que apunta al objeto. Sin embargo, el objeto en memoria es efectivamente un perro o un gato. Esto se denomina <strong>herencia no-polimórfica</strong>. </p><p>Cuando un método se oculta con la palabra reservada <code>new</code>, el entorno de ejecución no distingue el tipo del objeto en memoria, sino que se basa en el tipo de la variable que contiene la referencia. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="herencia-polimórfica"></a>Herencia polimórfica<a class="hash-link" href="#herencia-polimórfica" title="Direct link to heading">#</a></h3><p>Para implementar polimorfismo en C# debemos declarar el método en la clase base como <code>virtual</code> y redefinirlo en la clase derivada con <code>override</code>. Así el entorno de ejecución podrá distinguir en tiempo de ejecución el tipo real del objeto en memoria. Se ejecutará la implementación de la operación más cercana en la jerarquía de herencia al tipo real de la instancia, independientemente del tipo de la referencia.  </p><p>La palabra reservada <strong><code>virtual</code></strong> se usa para declarar un método que pueda ser sobrescrito por una clase derivada. La palabra reservada <strong><code>override</code></strong> se usa para sobrescribir un método <em>virtual</em> de la clase base.</p><p>Transformemos el ejemplo de los animales para que aproveche el polimorfismo. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Animal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public virtual string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Roar!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Perro : Animal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public override string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Woof!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Gato : Animal </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public override string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Miau!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">static void Main(string[] args)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal animal = new Animal();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal perro = new Perro();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal gato = new Gato();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Animal: {animal.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Perro: {perro.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Gato: {gato.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>La salida del código anterior es:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Animal: ¡Roar!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Perro: ¡Woof!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Gato: ¡Miau!</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Observemos que a pesar de que el tipo de la variable es <code>Animal</code>, por polimorfismo se ejecutará la implementación del tipo real del objeto.</p><table><thead><tr><th>Tipo de la referencia</th><th>Tipo de la instancia</th><th>Modificador</th><th>Se ejecuta la implementación en...</th><th>Salida por consola</th></tr></thead><tbody><tr><td>Perro</td><td>Perro</td><td><code>new</code></td><td>Perro</td><td>¡Woof!</td></tr><tr><td>Perro</td><td>Perro</td><td><code>virtual</code></td><td>Perro</td><td>¡Woof!</td></tr><tr><td>Animal</td><td>Perro</td><td><code>new</code></td><td>Animal</td><td>¡Roar!</td></tr><tr><td>Animal</td><td>Perro</td><td><code>virtual</code></td><td>Perro</td><td>¡Woof!</td></tr></tbody></table><p>Probemos agregar un nuevo tipo derivado de <code>Gato</code> y no invalidar la implementación del método <code>EmitirSonido</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Gato : Animal </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public override string EmitirSonido() </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return &quot;¡Miau!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class Gatito : Gato</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">static void Main(string[] args)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal animal = new Animal();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal perro = new Perro();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal gato = new Gato();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Animal gatito = new Gatito();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Animal: {animal.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Perro: {perro.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Gato: {gato.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Console.WriteLine($&quot;Gatito: {gatito.EmitirSonido()}&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>La salida del código anterior es:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Animal: ¡Roar!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Perro: ¡Woof!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Gato: ¡Miau!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Gatito: ¡Miau!</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Si no redefinimos la implementación del método <code>EmitirSonido</code> en <code>Gatito</code>, por polimorfismo se ejecutará la implementación más cercana en la jerarquía de herencia, en este caso en la clase <code>Gato</code>.</p><p>Se puede aplicar el mismo mecanismo a las propiedades.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="sobrescribiendo-la-equivalencia-de-objetos"></a>Sobrescribiendo la equivalencia de objetos<a class="hash-link" href="#sobrescribiendo-la-equivalencia-de-objetos" title="Direct link to heading">#</a></h2></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2021-09-20T03:37:28.000Z">9/20/2021</time></b> by <b>mauriciocerizza</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/programacion_2_laboratorio_2_apuntes/docs/polimorfismo"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Índice</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/programacion_2_laboratorio_2_apuntes/docs/clases/polimorfismo/apuntes/abstract"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Clases abstractas »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#polimorfismo" class="table-of-contents__link">Polimorfismo</a></li><li><a href="#polimorfismo-basado-en-herencia" class="table-of-contents__link">Polimorfismo basado en herencia</a><ul><li><a href="#herencia-no-polimórfica" class="table-of-contents__link">Herencia no-polimórfica</a></li><li><a href="#herencia-polimórfica" class="table-of-contents__link">Herencia polimórfica</a></li></ul></li><li><a href="#sobrescribiendo-la-equivalencia-de-objetos" class="table-of-contents__link">Sobrescribiendo la equivalencia de objetos</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Secciones</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/programacion_2_laboratorio_2_apuntes/docs/introduccion/descripcion-materia">Introducción a la materia</a></li><li class="footer__item"><a class="footer__link-item" href="/programacion_2_laboratorio_2_apuntes/docs/clases/programa">Clases</a></li><li class="footer__item"><a class="footer__link-item" href="/programacion_2_laboratorio_2_apuntes/docs/evaluaciones">Evaluaciones</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidad</div><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/utn-prog2/shared_invite/zt-a7q2ca78-HDLaVbxtzMLSzVrxct3xWg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://classroom.google.com/c/NTQ1MTg2NjM5NDBa?cjc=lqqdttc" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Google Classroom<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Material adicional</div><ul class="footer__items"><li class="footer__item"><a href="https://docs.microsoft.com/es-es/dotnet/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Microsoft Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/codeutnfra/programacion_2_laboratorio_2" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github - Programación y Laboratorio II<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC2Z2ADpWCh4aTHz07K3os2g/featured" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>You Tube - UTN FRA<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Reportar un error</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/codeutnfra/programacion_2_laboratorio_2_apuntes/issues/new" target="_blank"><img src="https://i.im.ge/2021/08/08/01RjT.md.png" alt="Reportar error" width="60%" height="60%"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 UTN Facultad Regional Avellaneda. Built with <a style="color:#3578E5" href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
<script src="/programacion_2_laboratorio_2_apuntes/assets/js/runtime~main.be10064d.js"></script>
<script src="/programacion_2_laboratorio_2_apuntes/assets/js/main.cebd5737.js"></script>
</body>
</html>