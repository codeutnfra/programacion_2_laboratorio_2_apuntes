<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/programacion_2_laboratorio_2_apuntes/blog/rss.xml" title="UTN FRA - Programaci贸n II Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/programacion_2_laboratorio_2_apuntes/blog/atom.xml" title="UTN FRA - Programaci贸n II Blog Atom Feed"><title data-react-helmet="true">multihilo | UTN FRA - Programaci贸n II</title><meta data-react-helmet="true" property="og:url" content="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/concurrencia/apuntes/multihilo"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="multihilo | UTN FRA - Programaci贸n II"><meta data-react-helmet="true" name="description" content="Programaci贸n multi-hilo"><meta data-react-helmet="true" property="og:description" content="Programaci贸n multi-hilo"><link data-react-helmet="true" rel="shortcut icon" href="/programacion_2_laboratorio_2_apuntes/base/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/concurrencia/apuntes/multihilo"><link data-react-helmet="true" rel="alternate" href="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/concurrencia/apuntes/multihilo" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://codeutnfra.github.io/programacion_2_laboratorio_2_apuntes/docs/clases/concurrencia/apuntes/multihilo" hreflang="x-default"><link rel="stylesheet" href="/programacion_2_laboratorio_2_apuntes/assets/css/styles.d7d5e26b.css">
<link rel="preload" href="/programacion_2_laboratorio_2_apuntes/assets/js/runtime~main.e4b71d49.js" as="script">
<link rel="preload" href="/programacion_2_laboratorio_2_apuntes/assets/js/main.113c7ea8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/programacion_2_laboratorio_2_apuntes/"><img src="/programacion_2_laboratorio_2_apuntes/base/logo.svg" alt="UTN Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/programacion_2_laboratorio_2_apuntes/base/logo.svg" alt="UTN Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Programaci贸n II</strong></a><a class="navbar__item navbar__link" href="/programacion_2_laboratorio_2_apuntes/docs/introduccion/descripcion-materia">Introducci贸n a la materia</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/programacion_2_laboratorio_2_apuntes/docs/clases/programa">Clases</a><a class="navbar__item navbar__link" href="/programacion_2_laboratorio_2_apuntes/docs/evaluaciones">Evaluaciones</a></div><div class="navbar__items navbar__items--right"><a href="http://www.sistemas-utnfra.com.ar/#/home" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Tecnicaturas UTN-Fra</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT"></span></div><div class="react-toggle-track-x"><span class="toggle_71bT"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/programacion_2_laboratorio_2_apuntes/"><img src="/programacion_2_laboratorio_2_apuntes/base/logo.svg" alt="UTN Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/programacion_2_laboratorio_2_apuntes/base/logo.svg" alt="UTN Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Programaci贸n II</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/programacion_2_laboratorio_2_apuntes/docs/introduccion/descripcion-materia">Introducci贸n a la materia</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/programacion_2_laboratorio_2_apuntes/docs/clases/programa">Clases</a></li><li class="menu__list-item"><a class="menu__link" href="/programacion_2_laboratorio_2_apuntes/docs/evaluaciones">Evaluaciones</a></li><li class="menu__list-item"><a href="http://www.sistemas-utnfra.com.ar/#/home" target="_blank" rel="noopener noreferrer" class="menu__link">Tecnicaturas UTN-Fra</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="programaci贸n-multi-hilo"></a>Programaci贸n multi-hilo<a class="hash-link" href="#programaci贸n-multi-hilo" title="Direct link to heading">#</a></h2><p>Un <strong>proceso</strong> es un programa en ejecuci贸n que tiene asignados recursos tales como memoria e hilos. </p><p>Un <strong>hilo &lt;<em>thread</em>&gt;</strong>, tambi茅n llamado hebra o subproceso, es la unidad b谩sica a la que un sistema operativo asigna tiempo de procesamiento. Son los encargados de ejecutar nuestro c贸digo sentencia a sentencia. </p><p>Por defecto cada proceso tiene un 煤nico hilo, es decir, s贸lo puede procesar una tarea a la vez. La <strong>programaci贸n multi-hilo &lt;<em>multithreaded programming</em>&gt;</strong> permite que un proceso se ejecute sobre m煤ltiples hilos y cada uno de esos hilos est茅 realizando una tarea distinta en paralelo. </p><p>Todos los hilos de un mismo proceso comparten los mismos recursos asignados por el sistema operativo.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="multitarea-apropiativa"></a>Multitarea apropiativa<a class="hash-link" href="#multitarea-apropiativa" title="Direct link to heading">#</a></h3><p>Por cada n煤cleo de la CPU, se puede ejecutar a lo mucho un proceso en cada momento. Windows y otros sistemas operativos modernos simulan la ejecuci贸n paralela de tareas dividiendo el tiempo de procesamiento entre los hilos, permitiendo que se vayan ejecutando uno despu茅s de otro en peque帽as fracciones de tiempo. El hilo que se est谩 ejecutando es suspendido cuando termina su fracci贸n de tiempo, luego el procesador permite que otro hilo se ejecute por el mismo periodo de tiempo. Esta forma de simular el paralelismo recibe el nombre de <strong>multitarea apropiativa &lt;<em>preemptive multitasking</em>&gt;</strong>. </p><p>Cuando Windows cambia de un hilo a otro, guarda el contexto donde se ejecut贸 el hilo actual y recarga el contexto del pr贸ximo hilo en la cola de ejecuci贸n. Hay que ser conscientes de que esto tambi茅n consume tiempo y recursos. </p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Advertencia</h5></div><div class="admonition-content"><p>No siempre tener m谩s hilos va a mejorar el rendimiento, se deben realizar pruebas de rendimiento comparando la ejecuci贸n de procesos con y sin m煤ltiples hilos.</p></div></div><p>Cada hilo tiene una <strong>pila de ejecuci贸n &lt;<em>call stack</em>&gt;</strong> independiente, esto significa que cada uno maneja su propia secuencia de funciones a ejecutar. </p><p>En algunos tipos de aplicaci贸n existen hilos especiales, por ejemplo un hilo para la interfaz de usuario &lt;<em>UI Thread</em>&gt; o el hilo principal en los programas de consola &lt;<em>Main Thread</em>&gt;.</p><p>IMAGEN - proceso, hilos, call stack y memoria</p><p>Todas las aplicaciones de .NET tienen un <strong>conjunto de hilos &lt;<em>thread pool</em>&gt;</strong> que se encarga de mantener un n煤mero de hilos activos esperando para ejecutar cualquier trabajo que se requiera. Lo podemos ver como un lugar donde podemos poner en cola tareas a realizar y que se ajustar谩 autom谩ticamente de acuerdo a la demanda.</p><p>En .NET se sol铆a utilizar la clase <strong><em>Thread</em></strong> para trabajar con hilos, la cual es una abstracci贸n de bajo nivel. El <em>conjunto de hilos</em> es una abstracci贸n de un nivel un poco m谩s alto, ya que se encargar谩 por si mismo de instanciar un hilo si existe la necesidad. Actualmente no se recomienda crear instancias de <strong><em>Thread</em></strong> ya que existen nuevas soluciones que fueron afinadas para cubrir de forma eficiente y sencilla la gran mayor铆a de los escenarios reales.</p><p>Las clases con las que trabajaremos son abstracciones de alto nivel que ponen en cola trabajo para que sea resuelto por el <em>conjunto de hilos</em>. </p><p>IMAGEN - thread vs thread pool vs high level abstractions</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="programaci贸n-en-paralelo"></a>Programaci贸n en paralelo<a class="hash-link" href="#programaci贸n-en-paralelo" title="Direct link to heading">#</a></h3><p>La <strong>programaci贸n en paralelo &lt;<em>parallel programming</em>&gt;</strong> es un tipo de programaci贸n multi-hilo, que a su vez es una forma de concurrencia. Se utiliza cuando se necesita dividir una gran carga de trabajo computacional en partes independientes y ejecutarlas en paralelo, maximizando el uso de los n煤cleos de la CPU.</p><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>IMPORTANTE</h5></div><div class="admonition-content"><p>Cuando procesamos en paralelo cada fragmento de trabajo de ser tan independiente del resto como sea posible. </p></div></div><p>IMAGEN - ejemplo en la cocina</p><p>Existen dos formas de paralelismo: data parallelism y task parallelism</p><p>IMAGEN - tipos de concurrencia y subtipos</p><p><a href="https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-based-asynchronous-programming" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-based-asynchronous-programming</a></p><p>Parallel.ForEach</p><p>Task.Run</p><p>Colecciones concurrentes</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="resumen-de-la-secci贸n"></a>Resumen de la secci贸n<a class="hash-link" href="#resumen-de-la-secci贸n" title="Direct link to heading">#</a></h2><ul><li>驴Qu茅 significa concurrencia?</li><li>驴Qu茅 formas de concurrencia existen y cu谩ndo se usa cada una?</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-09-18T01:54:17.000Z" class="lastUpdatedDate_1WI_">9/17/2021</time> by <strong>mauriciocerizza</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#programaci贸n-multi-hilo" class="table-of-contents__link">Programaci贸n multi-hilo</a><ul><li><a href="#multitarea-apropiativa" class="table-of-contents__link">Multitarea apropiativa</a></li><li><a href="#programaci贸n-en-paralelo" class="table-of-contents__link">Programaci贸n en paralelo</a></li></ul></li><li><a href="#resumen-de-la-secci贸n" class="table-of-contents__link">Resumen de la secci贸n</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Secciones</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/programacion_2_laboratorio_2_apuntes/docs/introduccion/descripcion-materia">Introducci贸n a la materia</a></li><li class="footer__item"><a class="footer__link-item" href="/programacion_2_laboratorio_2_apuntes/docs/clases/programa">Clases</a></li><li class="footer__item"><a class="footer__link-item" href="/programacion_2_laboratorio_2_apuntes/docs/evaluaciones">Evaluaciones</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidad</div><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/utn-prog2/shared_invite/zt-a7q2ca78-HDLaVbxtzMLSzVrxct3xWg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://classroom.google.com/c/NTQ1MTg2NjM5NDBa?cjc=lqqdttc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Classroom</a></li></ul></div><div class="col footer__col"><div class="footer__title">Material adicional</div><ul class="footer__items"><li class="footer__item"><a href="https://docs.microsoft.com/es-es/dotnet/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Microsoft Docs</a></li><li class="footer__item"><a href="https://github.com/codeutnfra/programacion_2_laboratorio_2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github - Programaci贸n y Laboratorio II</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC2Z2ADpWCh4aTHz07K3os2g/featured" target="_blank" rel="noopener noreferrer" class="footer__link-item">You Tube - UTN FRA</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reportar un error</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/codeutnfra/programacion_2_laboratorio_2_apuntes/issues/new" target="_blank"><img src="https://i.im.ge/2021/08/08/01RjT.md.png" alt="Reportar error" width="60%" height="60%"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 漏 2021 UTN Facultad Regional Avellaneda. Built with <a style="color:#3578E5" href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
<script src="/programacion_2_laboratorio_2_apuntes/assets/js/runtime~main.e4b71d49.js"></script>
<script src="/programacion_2_laboratorio_2_apuntes/assets/js/main.113c7ea8.js"></script>
</body>
</html>